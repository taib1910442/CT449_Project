{"ast":null,"code":"import axios from \"axios\";\nimport swal from \"sweetalert2\";\nimport store from \"../vuex/store\";\nexport default {\n  data() {\n    return {\n      isDisabled: false,\n      picture: \"\"\n    };\n  },\n\n  methods: {\n    previewImage: function () {\n      const self = this;\n      const files = event.target.files;\n\n      if (files.length > 0) {\n        const fileReader = new FileReader();\n\n        fileReader.onload = function () {\n          self.picture = event.target.result;\n        };\n\n        fileReader.readAsDataURL(files[0]);\n      }\n    },\n    updateProfile: async function () {\n      this.isDisabled = true;\n      const form = event.target;\n      const formData = new FormData(form);\n      const response = await axios.post(this.$apiURL + \"/updateProfile\", formData, {\n        headers: this.$headers\n      });\n      this.isDisabled = false;\n      store.commit(\"setUser\", response.data.user);\n      swal.fire(\"Profile update\", response.data.message, response.data.status);\n    }\n  },\n  mounted: function () {\n    const self = this;\n    setTimeout(function () {\n      if (self.user != null) {\n        self.picture = self.$apiURL + \"/\" + self.user.picture;\n      }\n    }, 100);\n  },\n  computed: {\n    user() {\n      return store.getters.getUser;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqCC,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAEA,eAAe;AAEdC,MAAI,GAAG;AACN,WAAO;AACNC,gBAAU,EAAE,KADN;AAENC,aAAO,EAAE;AAFH,KAAP;AAIA,GAPa;;AASdC,SAAO,EAAE;AACRC,gBAAY,EAAE,YAAY;AACzB,YAAMC,IAAG,GAAI,IAAb;AACA,YAAMC,KAAI,GAAIC,KAAK,CAACC,MAAN,CAAaF,KAA3B;;AACA,UAAIA,KAAK,CAACG,MAAN,GAAe,CAAnB,EAAsB;AACrB,cAAMC,UAAS,GAAI,IAAIC,UAAJ,EAAnB;;AAEAD,kBAAU,CAACE,MAAX,GAAoB,YAAY;AAC/BP,cAAI,CAACH,OAAL,GAAeK,KAAK,CAACC,MAAN,CAAaK,MAA5B;AACD,SAFA;;AAIAH,kBAAU,CAACI,aAAX,CAAyBR,KAAK,CAAC,CAAD,CAA9B;AACD;AACA,KAbO;AAeRS,iBAAa,EAAE,kBAAkB;AAChC,WAAKd,UAAL,GAAkB,IAAlB;AAEA,YAAMe,IAAG,GAAIT,KAAK,CAACC,MAAnB;AACA,YAAMS,QAAO,GAAI,IAAIC,QAAJ,CAAaF,IAAb,CAAjB;AAEA,YAAMG,QAAO,GAAI,MAAMtB,KAAK,CAACuB,IAAN,CACtB,KAAKC,OAAL,GAAe,gBADO,EAEtBJ,QAFsB,EAGtB;AACCK,eAAO,EAAE,KAAKC;AADf,OAHsB,CAAvB;AAOA,WAAKtB,UAAL,GAAkB,KAAlB;AACAF,WAAK,CAACyB,MAAN,CAAa,SAAb,EAAwBL,QAAQ,CAACnB,IAAT,CAAcyB,IAAtC;AAEA3B,UAAI,CAAC4B,IAAL,CAAU,gBAAV,EAA4BP,QAAQ,CAACnB,IAAT,CAAc2B,OAA1C,EAAmDR,QAAQ,CAACnB,IAAT,CAAc4B,MAAjE;AACD;AAhCQ,GATK;AA4CdC,SAAO,EAAE,YAAY;AACpB,UAAMxB,IAAG,GAAI,IAAb;AACAyB,cAAU,CAAC,YAAY;AACtB,UAAIzB,IAAI,CAACoB,IAAL,IAAa,IAAjB,EAAuB;AACtBpB,YAAI,CAACH,OAAL,GAAeG,IAAI,CAACgB,OAAL,GAAe,GAAf,GAAqBhB,IAAI,CAACoB,IAAL,CAAUvB,OAA9C;AACD;AACA,KAJS,EAIP,GAJO,CAAV;AAKA,GAnDa;AAqDd6B,UAAQ,EAAE;AACTN,QAAI,GAAG;AACN,aAAO1B,KAAK,CAACiC,OAAN,CAAcC,OAArB;AACD;;AAHS;AArDI,CAAf","names":["axios","swal","store","data","isDisabled","picture","methods","previewImage","self","files","event","target","length","fileReader","FileReader","onload","result","readAsDataURL","updateProfile","form","formData","FormData","response","post","$apiURL","headers","$headers","commit","user","fire","message","status","mounted","setTimeout","computed","getters","getUser"],"sourceRoot":"","sources":["D:\\Download\\Compressed\\chat\\web\\src\\components\\ProfileComponent.vue"],"sourcesContent":["<template>\n\t<div class=\"container\" style=\"margin-top: 50px;\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-md-12\">\n\t\t\t\t<h1 class=\"text-center\">Profile</h1>\n\t\t\t\t<img v-bind:src=\"picture\" style=\"width: 100%;\" />\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"row\" style=\"margin-top: 30px;\">\n\t\t\t<div class=\"offset-md-3 col-md-6\">\n\t\t\t\t<form v-on:submit.prevent=\"updateProfile\" enctype=\"multipart/form-data\">\n\t\t\t\t\t<input type=\"file\" name=\"picture\" accept=\"image/*\" class=\"form-control\" v-on:change=\"previewImage\" />\n\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label>Name</label>\n\t\t\t\t\t\t<input type=\"text\" name=\"name\" class=\"form-control\" v-bind:value=\"user.name\" required />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<br />\n\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t\t<input type=\"email\" name=\"email\" class=\"form-control\" v-bind:value=\"user.email\" disabled />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<br />\t\t\t\t\t\n\n\t\t\t\t\t<input type=\"submit\" class=\"btn btn-primary\" value=\"Update profile\" v-bind:disabled=\"isDisabled\" />\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\n\timport axios from \"axios\"\n\timport swal from \"sweetalert2\"\n\timport store from \"../vuex/store\"\n\n\texport default {\n\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisDisabled: false,\n\t\t\t\tpicture: \"\"\n\t\t\t}\n\t\t},\n\n\t\tmethods: {\n\t\t\tpreviewImage: function () {\n\t\t\t\tconst self = this\n\t\t\t\tconst files = event.target.files\n\t\t\t\tif (files.length > 0) {\n\t\t\t\t\tconst fileReader = new FileReader()\n\n\t\t\t\t\tfileReader.onload = function () {\n\t\t\t\t\t\tself.picture = event.target.result\n\t\t\t\t\t}\n\n\t\t\t\t\tfileReader.readAsDataURL(files[0])\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tupdateProfile: async function () {\n\t\t\t\tthis.isDisabled = true\n\n\t\t\t\tconst form = event.target\n\t\t\t\tconst formData = new FormData(form)\n\n\t\t\t\tconst response = await axios.post(\n\t\t\t\t\tthis.$apiURL + \"/updateProfile\",\n\t\t\t\t\tformData,\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: this.$headers\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tthis.isDisabled = false\n\t\t\t\tstore.commit(\"setUser\", response.data.user)\n\n\t\t\t\tswal.fire(\"Profile update\", response.data.message, response.data.status)\n\t\t\t}\n\t\t},\n\n\t\tmounted: function () {\n\t\t\tconst self = this\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (self.user != null) {\n\t\t\t\t\tself.picture = self.$apiURL + \"/\" + self.user.picture\n\t\t\t\t}\n\t\t\t}, 100)\n\t\t},\n\n\t\tcomputed: {\n\t\t\tuser() {\n\t\t\t\treturn store.getters.getUser\n\t\t\t}\n\t\t}\n\t}\n</script>"]},"metadata":{},"sourceType":"module"}